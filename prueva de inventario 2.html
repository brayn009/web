<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Inventario Taller De Frenos Chepe</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 90%; /* Ajustado para ser más responsivo */
            width: 100%; /* Asegura que ocupe todo el ancho disponible */
            box-sizing: border-box; /* Incluye padding y borde en el ancho total */
        }
        h1, h2 {
            color: #333;
            text-align: center;
        }
        .input-group {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column; /* Cambiado a columna para móviles */
            align-items: flex-start; /* Alinea los ítems al inicio */
        }
        .input-group label {
            margin-bottom: 5px;
            font-weight: bold;
            width: 100%; /* Ocupa todo el ancho */
        }
        .input-group input[type="text"],
        .input-group input[type="number"],
        .input-group input[type="date"],
        .input-group select {
            width: 100%; /* Ocupa todo el ancho disponible */
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box; /* Incluye padding y borde en el ancho total */
        }
        .input-group button {
            background-color: #28a745;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px; /* Espacio superior para botones */
            width: 100%; /* Ocupa todo el ancho */
        }
        .input-group button:hover {
            background-color: #218838;
        }
        .search-group {
            display: flex;
            flex-direction: column; /* Ajustado para móviles */
            gap: 10px; /* Espacio entre elementos */
            margin-bottom: 20px;
        }
        .search-group input {
            flex-grow: 1; /* Permite que el input crezca */
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            width: 100%; /* Ocupa todo el ancho */
        }
        .search-group button {
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            width: 100%; /* Ocupa todo el ancho */
        }
        .search-group button:hover {
            background-color: #0056b3;
        }
        .item-list {
            margin-top: 20px;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        .item {
            background-color: #f9f9f9;
            border: 1px solid #eee;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 4px;
            display: flex;
            flex-direction: column; /* Pila elementos en móviles */
            gap: 10px; /* Espacio entre detalles y botones */
        }
        .item span {
            display: block; /* Cada detalle en su propia línea */
            margin-bottom: 5px;
        }
        .item .actions {
            display: flex;
            flex-direction: column; /* Botones en columna en móviles */
            gap: 5px;
            margin-top: 10px;
        }
        .item .actions button {
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            width: 100%; /* Ocupa todo el ancho */
        }
        .item .actions .edit-button {
            background-color: #ffc107;
            color: #333;
        }
        .item .actions .edit-button:hover {
            background-color: #e0a800;
        }
        .item .actions .delete-button {
            background-color: #dc3545;
            color: white;
        }
        .item .actions .delete-button:hover {
            background-color: #c82333;
        }

        /* MEDIA QUERIES para pantallas más grandes (tablets y desktops) */
        @media (min-width: 600px) {
            .container {
                max-width: 800px; /* Ancho máximo para pantallas grandes */
            }
            .input-group {
                flex-direction: row; /* Vuelve a fila en pantallas grandes */
                align-items: center;
                gap: 10px; /* Espacio entre elementos */
            }
            .input-group label {
                width: auto; /* Ancho automático */
                margin-bottom: 0;
            }
            .input-group input[type="text"],
            .input-group input[type="number"],
            .input-group input[type="date"],
            .input-group select {
                width: auto; /* Ancho automático */
                flex-grow: 1; /* Permite que crezcan para llenar el espacio */
            }
            .input-group button {
                width: auto; /* Ancho automático */
                margin-top: 0;
            }
            .search-group {
                flex-direction: row; /* Vuelve a fila en pantallas grandes */
            }
            .item {
                flex-direction: row; /* Vuelve a fila en pantallas grandes */
                justify-content: space-between; /* Espacio entre detalles y botones */
                align-items: center;
            }
            .item .details {
                flex-grow: 1; /* Permite que los detalles ocupen el espacio */
            }
            .item .actions {
                flex-direction: row; /* Botones en fila en pantallas grandes */
                margin-top: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Inventario Taller De Frenos Chepe</h1>

        <div class="input-group">
            <label for="tipo">Tipo:</label>
            <select id="tipo">
                <option value="pastillas">Pastillas</option>
                <option value="disco">Disco</option>
                <option value="liquido">Líquido de Freno</option>
                <option value="bomba">Bomba de Freno</option>
                <option value="caliper">Caliper</option>
                <option value="otro">Otro</option>
            </select>
        </div>

        <div class="input-group">
            <label for="nombre">Nombre del Artículo:</label>
            <input type="text" id="nombre" placeholder="Ej: Pastillas delanteras Civic 2005">
        </div>

        <div class="input-group">
            <label for="cantidad">Cantidad:</label>
            <input type="number" id="cantidad" value="1" min="1">
        </div>

        <div class="input-group">
            <label for="fecha">Fecha de Entrada:</label>
            <input type="date" id="fecha">
        </div>

        <div class="input-group">
            <label for="descripcion">Descripción:</label>
            <input type="text" id="descripcion" placeholder="Detalles adicionales">
        </div>

        <div class="input-group">
            <button onclick="agregarItem()">Agregar al Inventario</button>
        </div>

        <h2>Buscar en Inventario</h2>
        <div class="search-group">
            <input type="text" id="searchInput" placeholder="Buscar por nombre o tipo...">
            <button onclick="buscarItem()">Buscar</button>
        </div>

        <div class="item-list" id="itemList">
            </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            cargarInventario();
            document.getElementById('fecha').valueAsDate = new Date(); // Establece la fecha actual por defecto
        });

        function guardarInventario(inventario) {
            localStorage.setItem('inventarioChepe', JSON.stringify(inventario));
        }

        function cargarInventario() {
            const inventarioJSON = localStorage.getItem('inventarioChepe');
            return inventarioJSON ? JSON.parse(inventarioJSON) : [];
        }

        function agregarItem() {
            const tipo = document.getElementById('tipo').value;
            const nombre = document.getElementById('nombre').value;
            const cantidad = parseInt(document.getElementById('cantidad').value);
            const fecha = document.getElementById('fecha').value;
            const descripcion = document.getElementById('descripcion').value;

            if (!nombre || !cantidad || !fecha) {
                alert('Por favor, completa todos los campos obligatorios.');
                return;
            }

            const inventario = cargarInventario();
            const newItem = {
                id: Date.now(),
                tipo,
                nombre,
                cantidad,
                fecha,
                descripcion
            };
            inventario.push(newItem);
            guardarInventario(inventario);
            mostrarInventario(inventario);

            // Limpiar campos
            document.getElementById('nombre').value = '';
            document.getElementById('cantidad').value = '1';
            document.getElementById('descripcion').value = '';
            document.getElementById('fecha').valueAsDate = new Date(); // Reinicia la fecha
        }

        function mostrarInventario(itemsToShow) {
            const itemList = document.getElementById('itemList');
            itemList.innerHTML = ''; // Limpiar lista antes de mostrar

            if (itemsToShow.length === 0) {
                itemList.innerHTML = '<p>No hay artículos en el inventario.</p>';
                return;
            }

            itemsToShow.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.classList.add('item');
                itemDiv.innerHTML = `
                    <div class="details">
                        <span><strong>Tipo:</strong> ${item.tipo}</span>
                        <span><strong>Nombre:</strong> ${item.nombre}</span>
                        <span><strong>Cantidad:</strong> ${item.cantidad}</span>
                        <span><strong>Fecha:</strong> ${item.fecha}</span>
                        <span><strong>Descripción:</strong> ${item.descripcion || 'N/A'}</span>
                    </div>
                    <div class="actions">
                        <button class="edit-button" onclick="editarItem(${item.id})">Editar</button>
                        <button class="delete-button" onclick="eliminarItem(${item.id})">Eliminar</button>
                    </div>
                `;
                itemList.appendChild(itemDiv);
            });
        }

        function buscarItem() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const inventario = cargarInventario();
            const resultados = inventario.filter(item =>
                item.nombre.toLowerCase().includes(searchTerm) ||
                item.tipo.toLowerCase().includes(searchTerm) ||
                (item.descripcion && item.descripcion.toLowerCase().includes(searchTerm))
            );
            mostrarInventario(resultados);
        }

        function eliminarItem(id) {
            if (!confirm('¿Estás seguro de que quieres eliminar este artículo?')) {
                return;
            }
            let inventario = cargarInventario();
            inventario = inventario.filter(item => item.id !== id);
            guardarInventario(inventario);
            mostrarInventario(inventario);
        }

        function editarItem(id) {
            let inventario = cargarInventario();
            const itemToEdit = inventario.find(item => item.id === id);

            if (itemToEdit) {
                const nuevoNombre = prompt('Editar nombre del artículo:', itemToEdit.nombre);
                const nuevaCantidadStr = prompt('Editar cantidad:', itemToEdit.cantidad);
                const nuevaFecha = prompt('Editar fecha (YYYY-MM-DD):', itemToEdit.fecha);
                const nuevaDescripcion = prompt('Editar descripción:', itemToEdit.descripcion || '');

                if (nuevoNombre !== null && nuevaCantidadStr !== null && nuevaFecha !== null && nuevaDescripcion !== null) {
                    const nuevaCantidad = parseInt(nuevaCantidadStr);
                    if (isNaN(nuevaCantidad) || nuevaCantidad < 1) {
                        alert('La cantidad debe ser un número válido mayor o igual a 1.');
                        return;
                    }

                    itemToEdit.nombre = nuevoNombre;
                    itemToEdit.cantidad = nuevaCantidad;
                    itemToEdit.fecha = nuevaFecha;
                    itemToEdit.descripcion = nuevaDescripcion;

                    guardarInventario(inventario);
                    mostrarInventario(inventario);
                }
            }
        }
    </script>
</body>
</html>
